{% from "components/card.html" import card %}
{% extends "dashboard/base.html" %}

{% block title %}Mod Dashboard &mdash; Generate Supply Codes{% endblock %}
{% block pagetitle %}{{ game }} &mdash; Moderator Actions{% endblock %}
{% block pagesubtitle %}Generate Supply Codes{% endblock %}

{% block subcontent %}
<div class="ui-grid s-dashboard__generate-supply">
  <div class="ui-grid align-content-start">
    {% call card("Generate Supply Codes", class="text-center") %}
      <form method="post">
        {{ csrf_input }}
        <div class="ui-form-group pt-2">
          <input type="submit" value="Generate Supply Codes" class="btn btn-block btn-primary">
        </div>
      </form>
    {% endcall %}
  </div>
  
  <div class="ui-grid">
    {% call card("Unclaimed Codes") %}
      <table class="table table-striped">
        {% for code in supply_codes %}
          {% if code.claimed_by is none %}
            <tr>
              <td>{{ code.code }}</td>
            </tr>
          {% endif %}
        {% endfor %}
      </table>
    {% endcall %}
  </div>
</div>
{% endblock %}
