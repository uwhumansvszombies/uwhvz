{% extends "base.html" %}

{% block title %}Index{% endblock %}

{% block content %}
<nav class="ui-titlebar">
  <div class="ui-titlebar__section" id="titlebar-logo">
    <a href="{{ url('dashboard') }}">{{ svg('site-logo-dark') }}</a>
  </div>
  <div class="ui-titlebar__section" id="titlebar-title">
    <div class="ui-titlebar__content">
      <h1 class="ui-titlebar__breadcrumbs">{% block pagetitle %}{% endblock %}</h1>
      <h2 class="ui-titlebar__page-title">{% block pagesubtitle %}{% endblock %}</h2>
    </div>
  </div>
  <div class="ui-titlebar__section">
    {% if user.is_authenticated %}
    <a class="ui-titlebar__link" href="{{ url('logout') }}">Logout</a>
    {% else %}
    <a class="ui-titlebar__link" href="{{ url('login') }}">Login</a>
    {% endif %}
  </div>
</nav>

<nav class="ui-sidebar">
  <ul class="ui-sidebar-nav">
    <h1 class="ui-sidebar-nav__title">Player Actions</h1>
    <li><a href="{{ url('dashboard') }}">My Dashboard</a></li>
    <li><a href="/game_info">Game Information</a></li>
    <li><a href="#">View Players</a></li>
    {% if not player.is_human %}
    <li><a href="#">View Zombie Tree</a></li>
    {% endif %}
  </ul>
  {% if user.is_moderator %}
  <ul class="ui-sidebar-nav">
    <h1 class="ui-sidebar-nav__title">Moderator Actions</h1>
    <li>
      <a href="{{ url('player_list') }}">Player List</a>
    </li>
    <li>
      <a href="{{ url('add_player') }}">Add Player</a>
    </li>
    <li>
      <a href="{{ url('signup_locations') }}">Signup Locations</a>
    </li>
    <li>
      <a href="#">Manage OZ Pool</a>
    </li>
    <li>
      <a href="{{ url('generate_supply_codes') }}">Generate Supply Codes</a>
    </li>
    {% if user.is_staff %}
    <li>
      <a href="/cms">Wagtail</a>
    </li>
    <li>
      <a href="{{ url('admin:index') }}">Django Admin</a>
    </li>
    {% endif %}
  </ul>
  {% endif %}
</nav>

<main class="ui-layout ui-layout--dashboard">
  <section class="ui-layout__item">
    {% if messages %}
      {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      {% endfor %}
    {% endif %}
    {% block subcontent %}{% endblock %}
  </section>
</main>
{% endblock %}
